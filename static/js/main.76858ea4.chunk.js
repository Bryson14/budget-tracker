(this.webpackJsonpbudget_tracker=this.webpackJsonpbudget_tracker||[]).push([[0],{103:function(e,t){},104:function(e,t){},117:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(35),r=a.n(s),o=(a(41),a(5)),i=a.n(o),l=a(14),u=a(36),d=a(2),j=(a(43),a(0)),b=function(e){var t=e.id,a=e.date,c=e.amount,n=e.category,s=e.note,r=new Date(a),o=[String(r.getMonth()+1)+"/"+String(r.getUTCDate()),c.toFixed(2),n,s];return Object(j.jsx)("tr",{id:t,children:o.map((function(e,t){return Object(j.jsx)("td",{children:e},t)}))})},h=function(e){var t=e.expenses,a=e.tableVisible,c={visibility:null==a||a?"visible":"hidden"};return Object(j.jsxs)("table",{style:c,className:"table table-striped table-dark table-hover align-middle",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Date"}),Object(j.jsx)("th",{scope:"col",children:"Amount"}),Object(j.jsx)("th",{scope:"col",children:"Category"}),Object(j.jsx)("th",{scope:"col",children:"Note"})]})}),Object(j.jsx)("tbody",{children:t.map((function(e,t){return Object(j.jsx)(b,{id:t,date:e.date,amount:e.amount,category:e.category,note:e.note},t)}))})]})},m=function(e){var t=e.category,a=e.budget_amount,c=e.current_amount,n=(a=null!=a&&null!=a.amount?a.amount:0)>(c=c.toFixed(2))?(a-c).toFixed(2):0,s="card card-block h-100",r="  |  ".concat(Math.round(100*c/a),"% Usage");return 0===a&&0===c?(s+="",r="Error Card"):0===a&&c>0?(s+=" text-white bg-danger",r="| No budget for this."):0===a&&c<0?(s+=" text-white bg-info",r=" | Reason: Refund?"):s+=c/a>1?" text-white bg-danger":c/a>.8?" text-white bg-warning":c/a>.5?" text-white bg-secondary":" text-white bg-success",Object(j.jsx)("div",{className:"col-8 col-md-4 col-no-padding",children:Object(j.jsxs)("div",{className:s,children:[Object(j.jsx)("h5",{className:"card-title pt-3",children:t}),Object(j.jsxs)("div",{className:"card-body text-left",children:[Object(j.jsxs)("p",{className:"card-subtitle mb-2",children:["Remaining: $",n]}),Object(j.jsxs)("h6",{className:"card-text",children:["Budget: $",a]}),Object(j.jsxs)("h6",{className:"card-text",children:["Spent: ",c," ",r?"".concat(r):""]})]})]})})},O=function(e){var t=e.addExpense,a=e.categories,n=(new Date).toISOString();n=n.slice(0,n.indexOf("T"));var s=Object(c.useState)(n),r=Object(d.a)(s,2),o=r[0],i=r[1],l=Object(c.useState)(""),u=Object(d.a)(l,2),b=u[0],h=u[1],m=Object(c.useState)(""),O=Object(d.a)(m,2),p=O[0],x=O[1],f=Object(c.useState)(""),g=Object(d.a)(f,2),v=g[0],w=g[1],y="col-sm-4 col-form-label text-white",N="text-danger col-sm-4 col-form-label text-white",S="form-control",k="form-control is-invalid",C=Object(c.useState)(y),E=Object(d.a)(C,2),_=E[0],F=E[1],T=Object(c.useState)(S),P=Object(d.a)(T,2),D=P[0],B=P[1],I=Object(c.useState)(y),A=Object(d.a)(I,2),M=A[0],V=A[1],$=Object(c.useState)(S),H=Object(d.a)($,2),R=H[0],G=H[1],J=Object(c.useState)(y),L=Object(d.a)(J,2),U=L[0],Y=L[1],K=Object(c.useState)(S),W=Object(d.a)(K,2),q=W[0],z=W[1],Q=Object(c.useState)(y),X=Object(d.a)(Q,2),Z=X[0],ee=X[1],te=Object(c.useState)(S),ae=Object(d.a)(te,2),ce=ae[0],ne=ae[1],se=a.length>0&&a.map((function(e,t){return Object(j.jsx)("option",{value:e.name,children:e.name},t)}),undefined),re=function(e){return function(t){switch(e){case"amount":w(t.target.value);break;case"category":x(t.target.value);break;case"note":h(t.target.value);break;case"date":var a=(new Date).toISOString();if(a=a.slice(0,a.indexOf("T")),t.target.value>a)return alert("Cannot have an expense in the future."),void i(a);i(t.target.value);break;default:alert("An unknown data: ".concat(e," was passed into the switch statement."))}}};return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=!0;if(""===v||0===v?(V(N),G(k),a=!1):(V(y),G(S)),""===b?(Y(N),z(k),a=!1):(Y(y),z(S)),""===p?(ee(N),ne(k),a=!1):(ee(y),ne(S)),""===o?(F(N),B(k),a=!1):(F(y),B(S)),a)try{var c=(new Date).toISOString();c=c.slice(0,c.indexOf("T"));var n=Number(v);t({date:o,amount:n,category:p,note:b}),i(c),h(""),x(""),w("")}catch(e){alert("Bad number conversion of amount to Number type")}},className:"px-4",children:[Object(j.jsxs)("div",{className:"form-group row",children:[Object(j.jsx)("label",{className:_,htmlFor:"dateinput",children:"Date"}),Object(j.jsx)("div",{class:"col-sm-8",children:Object(j.jsx)("input",{type:"date",className:D,value:o,onChange:re("date")})})]}),Object(j.jsxs)("div",{className:"form-group row",children:[Object(j.jsx)("label",{className:M,htmlFor:"amountinput",children:"Amount"}),Object(j.jsx)("div",{class:"col-sm-8",children:Object(j.jsx)("input",{type:"number",step:"0.01",className:R,value:v,onChange:re("amount"),id:"amountinput","aria-describedby":"amountHelp",placeholder:"Enter Expense Amount"})})]}),Object(j.jsxs)("div",{className:"form-group row",children:[Object(j.jsx)("label",{className:Z,htmlFor:"categorySelect",children:"Category"}),Object(j.jsx)("div",{class:"col-sm-8",children:Object(j.jsxs)("select",{className:ce,value:p,onChange:re("category"),children:[Object(j.jsx)("option",{selected:!0,value:"",children:"Choose..."}),se]})})]}),Object(j.jsxs)("div",{className:"form-group row",children:[Object(j.jsx)("label",{className:U,htmlFor:"noteInput",children:"Note"}),Object(j.jsx)("div",{class:"col-sm-8",children:Object(j.jsx)("input",{type:"text",value:b,onChange:re("note"),className:q,id:"noteInput","aria-describedby":"noteHelp",placeholder:"You spent what on WHAT??.."})})]}),Object(j.jsx)("div",{className:"form-group row justify-content-center",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})},p=new(a(45))({apiKey:"keywSY73734Bt376s"}).base("app5VP16VBp5NgMg5");var x=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(d.a)(s,2),o=r[0],b=r[1],x=Object(c.useState)(!1),f=Object(d.a)(x,2),g=f[0],v=f[1];function w(){return(w=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],p("Transactions").select({view:"Grid view"}).eachPage((function(e,a){e.forEach((function(e){t.push(e.fields)})),a()}),(function(e){e?console.error(e):n(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],p("Category_Budgets").select({view:"Grid view",fields:["name","amount"]}).eachPage((function(e,a){e.forEach((function(e){t.push(e.fields)})),a()}),(function(e){e?console.error(e):b(t)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p("Transactions").create([{fields:t}],(function(e,a){e?alert("Error posting Expense to Airtable ".concat(t,".")):a.forEach((function(e){}))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){w.apply(this,arguments)}(),function(){y.apply(this,arguments)}()}),[]);var S={total_spent:0,total_budget:0};a.forEach((function(e){S.total_spent+=e.amount,S.hasOwnProperty(e.category)?S[e.category]+=e.amount:S[e.category]=e.amount}));var k={};return o.forEach((function(e,t){k[e.name]=t,S.total_budget+=e.amount})),Object(j.jsxs)("div",{className:"container-fluid p-2 text-center",children:[Object(j.jsxs)("div",{className:"form-div",children:[Object(j.jsx)("h1",{className:"text-white pt-3",children:"Budget Tracker \ud83d\udcb8"}),Object(j.jsxs)("small",{className:"text-light",children:["Spent $",S.total_spent.toFixed(2)," of $",S.total_budget]}),Object(j.jsx)("div",{class:"row d-flex justify-content-center mt-2",children:Object(j.jsx)("div",{class:"col-md-6",children:Object(j.jsx)(O,{addExpense:function(e){e.hasOwnProperty("date")&&e.hasOwnProperty("amount")&&e.hasOwnProperty("category")&&e.hasOwnProperty("note")?(n([e].concat(Object(u.a)(a))),function(e){N.apply(this,arguments)}(e)):alert("The expense object made did not have the following props: date, amount, category, note. \n Failed to set state")},categories:o})})})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:"container-fluid ",children:[Object(j.jsx)("h2",{children:"Categories"}),Object(j.jsx)("div",{className:"row flex-row flex-nowrap overflow-auto",children:Object.entries(S).map((function(e){var t=Object(d.a)(e,2),a=t[0],c=t[1];return"total_spent"===a||"total_budget"===a?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)(m,{category:a,budget_amount:o[k[a]],current_amount:c})}))})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:"",children:[Object(j.jsx)("div",{onClick:function(){v(!g)},style:{cursor:"pointer"},children:Object(j.jsx)("h2",{children:"Expenses \u25bc"})}),Object(j.jsx)(h,{expenses:a,tableVisible:g})]})]})},f=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,118)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),f()},41:function(e,t,a){},43:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.76858ea4.chunk.js.map